-- Generated by SQLite Compare utility

-- The script can be used to migrate database
-- C:\Documents and Settings\eventgenie\Desktop\db\eventgenie_v48.db schema
-- to the schema of database
-- C:\Documents and Settings\eventgenie\Desktop\db\eventgenie_v49.db

BEGIN TRANSACTION;


-- Creating table exhibitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_exhibitors_534011718
(
    gamePersona_nickname nvarchar(30) NULL,
    modifiedBy nvarchar(50) NULL,
    newPassword nvarchar(500) NULL,
    locale nvarchar(10) NULL,
    loginEmailSent bit NULL,
    featured INTEGER NULL,
    password nvarchar(50) NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    activeGamePlayer bit NULL,
    userType INTEGER NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    username nvarchar(500) NULL,
    timezone nvarchar(500) NULL,
    fullDescription text NULL,
    briefDescription nvarchar(500) NULL,
    _id nvarchar(500) NULL,
    name nvarchar(100) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    lastAccessed datetime NULL,
    logo bigint NULL,
    totalPlayerPoints INTEGER NULL,
    logoUrl nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    enableGamification bit NULL,
    modifiedDate datetime NULL,
    category nvarchar(50) NULL,
    createdBy nvarchar(50) NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    shareUrl nvarchar(500) NULL,
    exhibitorType nvarchar(50) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_exhibitors_534011718 (gamePersona_nickname,modifiedBy,newPassword,locale,loginEmailSent,featured,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,password,userType,id,username,timezone,fullDescription,briefDescription,_id,importBatch,name,createdDate,lastAccessed,logo,logoUrl,importCameFrom,modifiedDate,category,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,exhibitorType,importKey,_namespace,isFavourite,hasNote,_dataversion,activeGamePlayer,totalPlayerPoints,enableGamification) SELECT gamePersona_nickname,modifiedBy,newPassword,locale,loginEmailSent,featured,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,password,userType,id,username,timezone,fullDescription,briefDescription,_id,importBatch,name,createdDate,lastAccessed,logo,logoUrl,importCameFrom,modifiedDate,category,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,exhibitorType,importKey,_namespace,isFavourite,hasNote,_dataversion,NULL AS activeGamePlayer,NULL AS totalPlayerPoints,NULL AS enableGamification FROM exhibitors;

-- Droping the original table and renaming the temporary table

DROP TABLE exhibitors;
ALTER TABLE temp_exhibitors_534011718 RENAME TO exhibitors;

-- Creating associated indexes from scratch

CREATE INDEX exhibitors_i1
ON exhibitors
(
    id
);

CREATE TABLE exhibitors_gameRecords
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    exhibitors_id bigint NULL,
    gameRecords bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

DROP TABLE playergames_playerAchievements;

-- Creating table sessions from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_sessions_1655911537
(
    location nvarchar(50) NULL,
    modifiedBy nvarchar(50) NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    feedbackUrl nvarchar(500) NULL,
    eventDay nvarchar(50) NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    briefDescription nvarchar(500) NULL,
    name nvarchar(200) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    addToAgendaMessage nvarchar(500) NULL,
    leadChair bigint NULL,
    track nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    shareUrl nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    permissionGroup bigint NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_sessions_1655911537 (location,modifiedBy,id,eventDay,fullDescription,_id,briefDescription,name,importBatch,createdDate,addToAgendaMessage,track,leadChair,importCameFrom,runningTime_to,runningTime_from,modifiedDate,createdBy,shareUrl,importKey,permissionGroup,_namespace,isFavourite,hasNote,_dataversion,feedbackUrl) SELECT location,modifiedBy,id,eventDay,fullDescription,_id,briefDescription,name,importBatch,createdDate,addToAgendaMessage,track,leadChair,importCameFrom,runningTime_to,runningTime_from,modifiedDate,createdBy,shareUrl,importKey,permissionGroup,_namespace,isFavourite,hasNote,_dataversion,NULL AS feedbackUrl FROM sessions;

-- Droping the original table and renaming the temporary table

DROP TABLE sessions;
ALTER TABLE temp_sessions_1655911537 RENAME TO sessions;

-- Creating table speakers from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_speakers_630327709
(
    gamePersona_nickname nvarchar(30) NULL,
    department nvarchar(100) NULL,
    modifiedBy nvarchar(50) NULL,
    newPassword nvarchar(500) NULL,
    locale nvarchar(10) NULL,
    loginEmailSent bit NULL,
    mugShot bigint NULL,
    password nvarchar(50) NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    activeGamePlayer bit NULL,
    userType INTEGER NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    mugShotUrl nvarchar(500) NULL,
    title nvarchar(20) NULL,
    username nvarchar(500) NULL,
    timezone nvarchar(500) NULL,
    fullDescription text NULL,
    briefDescription nvarchar(500) NULL,
    _id nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    lastNames nvarchar(100) NULL,
    createdDate datetime NULL,
    jobTitle nvarchar(500) NULL,
    firstNames nvarchar(100) NULL,
    lastAccessed datetime NULL,
    totalPlayerPoints INTEGER NULL,
    importCameFrom nvarchar(500) NULL,
    enableGamification bit NULL,
    companyName nvarchar(100) NULL,
    visitor bigint NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    shareUrl nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_speakers_630327709 (gamePersona_nickname,department,modifiedBy,newPassword,locale,loginEmailSent,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,password,userType,id,mugShotUrl,username,timezone,title,fullDescription,briefDescription,_id,importBatch,lastNames,createdDate,jobTitle,lastAccessed,firstNames,importCameFrom,companyName,visitor,modifiedDate,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,importKey,_namespace,isFavourite,hasNote,_dataversion,activeGamePlayer,totalPlayerPoints,enableGamification) SELECT gamePersona_nickname,department,modifiedBy,newPassword,locale,loginEmailSent,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,password,userType,id,mugShotUrl,username,timezone,title,fullDescription,briefDescription,_id,importBatch,lastNames,createdDate,jobTitle,lastAccessed,firstNames,importCameFrom,companyName,visitor,modifiedDate,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,importKey,_namespace,isFavourite,hasNote,_dataversion,NULL AS activeGamePlayer,NULL AS totalPlayerPoints,NULL AS enableGamification FROM speakers;

-- Droping the original table and renaming the temporary table

DROP TABLE speakers;
ALTER TABLE temp_speakers_630327709 RENAME TO speakers;

CREATE TABLE speakers_gameRecords
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    speakers_id bigint NULL,
    gameRecords bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table trophies from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_trophies_1752227528
(
    primaryInfoPage bigint NULL,
    icon nvarchar(500) NULL,
    maxTrophyPoints INTEGER NULL,
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    game bigint NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    sponsorCampaign bigint NULL,
    isVisible bit NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_trophies_1752227528 (primaryInfoPage,icon,maxTrophyPoints,modifiedBy,importCameFrom,game,runningTime_to,runningTime_from,modifiedDate,id,sponsorCampaign,isVisible,_id,createdBy,importBatch,name,createdDate,importKey,_namespace,_dataversion) SELECT primaryInfoPage,icon,maxTrophyPoints,modifiedBy,importCameFrom,game,runningTime_to,runningTime_from,modifiedDate,id,sponsorCampaign,isVisible,_id,createdBy,importBatch,name,createdDate,importKey,_namespace,_dataversion FROM trophies;

-- Droping the original table and renaming the temporary table

DROP TABLE trophies;
ALTER TABLE temp_trophies_1752227528 RENAME TO trophies;

-- Creating table visitorgroups from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_visitorgroups_726643700
(
    meetingCredits INTEGER NULL,
    meetingsTarget INTEGER NULL,
    addToAgendaDisabledMessage nvarchar(500) NULL,
    modifiedBy nvarchar(50) NULL,
    isAddToAgendaEnabled bit NULL,
    autoIsDeletableMeeting bit NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    autoAcceptMeeting bit NULL,
    createdDate datetime NULL,
    messageCredits INTEGER NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_visitorgroups_726643700 (meetingCredits,meetingsTarget,addToAgendaDisabledMessage,modifiedBy,isAddToAgendaEnabled,importCameFrom,modifiedDate,_id,createdBy,importBatch,name,autoAcceptMeeting,createdDate,messageCredits,importKey,_namespace,_dataversion,autoIsDeletableMeeting) SELECT meetingCredits,meetingsTarget,addToAgendaDisabledMessage,modifiedBy,isAddToAgendaEnabled,importCameFrom,modifiedDate,_id,createdBy,importBatch,name,autoAcceptMeeting,createdDate,messageCredits,importKey,_namespace,_dataversion,NULL AS autoIsDeletableMeeting FROM visitorgroups;

-- Droping the original table and renaming the temporary table

DROP TABLE visitorgroups;
ALTER TABLE temp_visitorgroups_726643700 RENAME TO visitorgroups;

-- Creating table visitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_visitors_1848543519
(
    meetingsTarget INTEGER NULL,
    gamePersona_nickname nvarchar(30) NULL,
    newPassword nvarchar(500) NULL,
    modifiedBy nvarchar(50) NULL,
    loginEmailSent bit NULL,
    activeGamePlayer bit NULL,
    password nvarchar(50) NULL,
    userType INTEGER NULL,
    timezone nvarchar(500) NULL,
    username nvarchar(500) NULL,
    mugShotUrl nvarchar(500) NULL,
    showEmail bit NULL,
    fullDescription text NULL,
    showTwitter bit NULL,
    messageDebits INTEGER NULL,
    lastNames nvarchar(100) NULL,
    createdDate datetime NULL,
    firstNames nvarchar(100) NULL,
    meetingDebits INTEGER NULL,
    privateKey nvarchar(500) NULL,
    totalPlayerPoints INTEGER NULL,
    showYouTubeUrl bit NULL,
    companyName nvarchar(100) NULL,
    showBriefDescription bit NULL,
    createdBy nvarchar(50) NULL,
    showBlogUrl bit NULL,
    actionTypesLastRanOn text NULL,
    showReasonForAttending bit NULL,
    showVisitorType bit NULL,
    showFullDescription bit NULL,
    messageCredits INTEGER NULL,
    importKey nvarchar(500) NULL,
    showJobTitle bit NULL,
    hasSetProfile bit NULL,
    meetingCredits INTEGER NULL,
    department nvarchar(100) NULL,
    locale nvarchar(10) NULL,
    reasonForAttending nvarchar(500) NULL,
    showInterests bit NULL,
    mugShot bigint NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    showLinkedIn bit NULL,
    showDepartment bit NULL,
    showFax bit NULL,
    title nvarchar(20) NULL,
    showTelephone2 bit NULL,
    showName bit NULL,
    _id nvarchar(500) NULL,
    briefDescription nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    showAddress bit NULL,
    showCompanyName bit NULL,
    lastAccessed datetime NULL,
    jobTitle nvarchar(500) NULL,
    showMugShot bit NULL,
    enableGamification bit NULL,
    importCameFrom nvarchar(500) NULL,
    showWww bit NULL,
    modifiedDate datetime NULL,
    showTelephone bit NULL,
    visitorGroup nvarchar(50) NULL,
    showFacebook bit NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    visitorType nvarchar(500) NULL,
    showMe bit NULL,
    exhibitor bigint NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_visitors_1848543519 (meetingsTarget,gamePersona_nickname,newPassword,modifiedBy,loginEmailSent,password,userType,timezone,username,mugShotUrl,showEmail,fullDescription,showTwitter,messageDebits,lastNames,createdDate,firstNames,meetingDebits,privateKey,totalPlayerPoints,showYouTubeUrl,companyName,showBriefDescription,createdBy,showBlogUrl,actionTypesLastRanOn,showReasonForAttending,showVisitorType,showFullDescription,messageCredits,importKey,showJobTitle,hasSetProfile,meetingCredits,department,locale,reasonForAttending,showInterests,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,id,showLinkedIn,showDepartment,showFax,title,showTelephone2,showName,_id,briefDescription,importBatch,showAddress,showCompanyName,lastAccessed,jobTitle,showMugShot,enableGamification,importCameFrom,showWww,modifiedDate,showTelephone,visitorGroup,showFacebook,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,visitorType,exhibitor,showMe,_namespace,isFavourite,hasNote,_dataversion,activeGamePlayer) SELECT meetingsTarget,gamePersona_nickname,newPassword,modifiedBy,loginEmailSent,password,userType,timezone,username,mugShotUrl,showEmail,fullDescription,showTwitter,messageDebits,lastNames,createdDate,firstNames,meetingDebits,privateKey,totalPlayerPoints,showYouTubeUrl,companyName,showBriefDescription,createdBy,showBlogUrl,actionTypesLastRanOn,showReasonForAttending,showVisitorType,showFullDescription,messageCredits,importKey,showJobTitle,hasSetProfile,meetingCredits,department,locale,reasonForAttending,showInterests,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,id,showLinkedIn,showDepartment,showFax,title,showTelephone2,showName,_id,briefDescription,importBatch,showAddress,showCompanyName,lastAccessed,jobTitle,showMugShot,enableGamification,importCameFrom,showWww,modifiedDate,showTelephone,visitorGroup,showFacebook,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,visitorType,exhibitor,showMe,_namespace,isFavourite,hasNote,_dataversion,NULL AS activeGamePlayer FROM visitors;

-- Droping the original table and renaming the temporary table

DROP TABLE visitors;
ALTER TABLE temp_visitors_1848543519 RENAME TO visitors;

COMMIT TRANSACTION;
