-- Generated by SQLite Compare utility

-- The script can be used to migrate database
-- C:\Documents and Settings\eventgenie\Desktop\db\eventgenie_v50.db schema
-- to the schema of database
-- C:\Documents and Settings\eventgenie\Desktop\db\eventgenie_v51.db

BEGIN TRANSACTION;


CREATE TABLE adbanners_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    adbanners_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table adcampaigns from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_adcampaigns_534011718
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_adcampaigns_534011718 (id,createdBy,_id,modifiedBy,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion) SELECT id,createdBy,_id,modifiedBy,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion FROM adcampaigns;

-- Droping the original table and renaming the temporary table

DROP TABLE adcampaigns;
ALTER TABLE temp_adcampaigns_534011718 RENAME TO adcampaigns;

CREATE TABLE adcampaigns_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    adcampaigns_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table agendaitems from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_agendaitems_1655911537
(
    modifiedBy nvarchar(50) NULL,
    relatedSession bigint NULL,
    importCameFrom nvarchar(500) NULL,
    type nvarchar(500) NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    eventDay nvarchar(50) NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    relatedSubSession bigint NULL,
    relatedMeeting bigint NULL,
    name nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    isDeletable bit NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_agendaitems_1655911537 (modifiedBy,relatedSession,importCameFrom,type,runningTime_to,runningTime_from,modifiedDate,visitor,id,eventDay,fullDescription,_id,createdBy,relatedSubSession,relatedMeeting,importBatch,name,isDeletable,createdDate,importKey,_namespace,_dataversion) SELECT modifiedBy,relatedSession,importCameFrom,type,runningTime_to,runningTime_from,modifiedDate,visitor,id,eventDay,fullDescription,_id,createdBy,relatedSubSession,relatedMeeting,importBatch,name,isDeletable,createdDate,importKey,_namespace,_dataversion FROM agendaitems;

-- Droping the original table and renaming the temporary table

DROP TABLE agendaitems;
ALTER TABLE temp_agendaitems_1655911537 RENAME TO agendaitems;

CREATE TABLE agendaitems_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    agendaitems_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE apprefcategories_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    apprefcategories_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table apprefs from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_apprefs_630327709
(
    liveStatus INTEGER NULL,
    isUsingHoldingPage bit NULL,
    modifiedBy nvarchar(50) NULL,
    isFeatured bit NULL,
    iconUrl nvarchar(500) NULL,
    eventEndDate datetime NULL,
    isAvailable bit NULL,
    scheduledDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    scheduledLiveStatus INTEGER NULL,
    _id nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(300) NULL,
    createdDate datetime NULL,
    app bigint NULL,
    icon bigint NULL,
    scheduledTaskName nvarchar(500) NULL,
    eventLocation nvarchar(500) NULL,
    strapLine nvarchar(500) NULL,
    eventStartDate datetime NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    permissionGroup bigint NULL,
    holdingPageHTML text NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_apprefs_630327709 (liveStatus,isUsingHoldingPage,modifiedBy,iconUrl,isFeatured,eventEndDate,isAvailable,scheduledDate,id,scheduledLiveStatus,_id,importBatch,name,createdDate,app,icon,scheduledTaskName,eventLocation,strapLine,eventStartDate,importCameFrom,modifiedDate,createdBy,permissionGroup,holdingPageHTML,importKey,_namespace,_dataversion) SELECT liveStatus,isUsingHoldingPage,modifiedBy,iconUrl,isFeatured,eventEndDate,isAvailable,scheduledDate,id,scheduledLiveStatus,_id,importBatch,name,createdDate,app,icon,scheduledTaskName,eventLocation,strapLine,eventStartDate,importCameFrom,modifiedDate,createdBy,permissionGroup,holdingPageHTML,importKey,_namespace,_dataversion FROM apprefs;

-- Droping the original table and renaming the temporary table

DROP TABLE apprefs;
ALTER TABLE temp_apprefs_630327709 RENAME TO apprefs;

CREATE TABLE apprefs_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    apprefs_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table apps from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_apps_1752227528
(
    client bigint NULL,
    modifiedBy nvarchar(50) NULL,
    iconUrl nvarchar(500) NULL,
    locale nvarchar(10) NULL,
    networkingEmails_autoCancelMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_autoCancelMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_exhibitorLoginMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_exhibitorLoginMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_inAppMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_inAppMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_successIntegrationMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_successIntegrationMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_errorIntegrationMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_errorIntegrationMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_loginMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_loginMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_autoAcceptMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_autoAcceptMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_emailMyEventMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_emailMyEventMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_forgottenPasswordMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_forgottenPasswordMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_exhibitorForgottenPasswordMessageTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_exhibitorForgottenPasswordMessageTemplate_appMessageTemplate bigint NULL,
    networkingEmails_acceptMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_acceptMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_arrangeMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_arrangeMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_declineMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_declineMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_changeMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_changeMeetingTemplate_appMessageTemplate bigint NULL,
    networkingEmails_cancelMeetingTemplate_globalMessageTemplate bigint NULL,
    networkingEmails_cancelMeetingTemplate_appMessageTemplate bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    liveVersion nvarchar(50) NULL,
    servingUrl nvarchar(500) NULL,
    title nvarchar(500) NULL,
    fullDescription text NULL,
    stagingVersion nvarchar(50) NULL,
    _id nvarchar(500) NULL,
    integration_passwordEncryptionType int NULL,
    integration_param1 nvarchar(500) NULL,
    integration_param10 nvarchar(500) NULL,
    integration_param2 nvarchar(500) NULL,
    integration_visitorLoginType int NULL,
    integration_param3 nvarchar(500) NULL,
    integration_param4 nvarchar(500) NULL,
    integration_integrationType nvarchar(500) NULL,
    integration_param5 nvarchar(500) NULL,
    integration_param6 nvarchar(500) NULL,
    integration_param7 nvarchar(500) NULL,
    integration_param8 nvarchar(500) NULL,
    integration_param9 nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(25) NULL,
    features_networking_enabled bit NULL,
    features_networking_purchasedLevel int NULL,
    features_salesPackage nvarchar(500) NULL,
    features_exhibitors_enabled bit NULL,
    features_exhibitors_purchasedLevel int NULL,
    features_sponsorship_sponsorCampaign bigint NULL,
    features_sponsorship_enabled bit NULL,
    features_sponsorship_purchasedLevel int NULL,
    features_sponsorship_sponsor_portalBanner bigint NULL,
    features_sponsorship_sponsor_bannerUrl nvarchar(500) NULL,
    features_sponsorship_sponsor_showBanner bit NULL,
    features_sponsorship_sponsor_linkType int NULL,
    features_sponsorship_sponsor_portalBannerUrl nvarchar(500) NULL,
    features_sponsorship_sponsor_infoPage bigint NULL,
    features_sponsorship_sponsor_exhibitor bigint NULL,
    features_sponsorship_sponsor_banner bigint NULL,
    features_multievent_enabled bit NULL,
    features_multievent_purchasedLevel int NULL,
    features_qrreader_enabled bit NULL,
    features_qrreader_purchasedLevel int NULL,
    features_mapping_enabled bit NULL,
    features_mapping_purchasedLevel int NULL,
    features_platforms int NULL,
    features_registration_enabled bit NULL,
    features_registration_purchasedLevel int NULL,
    features_speakers_enabled bit NULL,
    features_speakers_purchasedLevel int NULL,
    features_downloads_enabled bit NULL,
    features_downloads_purchasedLevel int NULL,
    features_infobooth_enabled bit NULL,
    features_infobooth_purchasedLevel int NULL,
    features_gamification_enabled bit NULL,
    features_gamification_purchasedLevel int NULL,
    features_feedback_enabled bit NULL,
    features_feedback_purchasedLevel int NULL,
    features_poi_enabled bit NULL,
    features_poi_purchasedLevel int NULL,
    features_favourites_enabled bit NULL,
    features_favourites_purchasedLevel int NULL,
    features_newssocial_enabled bit NULL,
    features_newssocial_purchasedLevel int NULL,
    features_schedule_enabled bit NULL,
    features_schedule_purchasedLevel int NULL,
    features_messaging_enabled bit NULL,
    features_messaging_purchasedLevel int NULL,
    features_notes_enabled bit NULL,
    features_notes_purchasedLevel int NULL,
    features_products_enabled bit NULL,
    features_products_purchasedLevel int NULL,
    features_myevent_enabled bit NULL,
    features_myevent_purchasedLevel int NULL,
    features_appsecurity_enabled bit NULL,
    features_appsecurity_purchasedLevel int NULL,
    features_appsecurity_allowRegistration bit NULL,
    integrationXSLs bigint NULL,
    createdDate datetime NULL,
    incrementNotificationBadgeCounts bit NULL,
    lastProcessedUUIDs datetime NULL,
    requiresInterestsRecompilation bit NULL,
    appProcessStopDate datetime NULL,
    appProcessAnalytics bit NULL,
    importCameFrom nvarchar(500) NULL,
    isArchived bit NULL,
    appProcessStartDate datetime NULL,
    analytics_goalVisitorNotes int NULL,
    analytics_goalVisitorSchedule int NULL,
    analytics_goalVisitorNetworking int NULL,
    analytics_goalVisitorExhibitors int NULL,
    analytics_goalVisitorOverall int NULL,
    analytics_goalVisitorFavourites int NULL,
    analytics_goalVisitorAgenda int NULL,
    modifiedDate datetime NULL,
    dashboardAllowed bit NULL,
    lastProcessedVisitors datetime NULL,
    requiresActivityRecompilation bit NULL,
    createdBy nvarchar(50) NULL,
    lastProcessedActivities datetime NULL,
    isTemplate bit NULL,
    shortName nvarchar(13) NULL,
    lastProcessedInterests datetime NULL,
    visitorDataNamespace nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_apps_1752227528 (client,modifiedBy,iconUrl,locale,networkingEmails_autoCancelMeetingTemplate_globalMessageTemplate,networkingEmails_autoCancelMeetingTemplate_appMessageTemplate,networkingEmails_exhibitorLoginMessageTemplate_globalMessageTemplate,networkingEmails_exhibitorLoginMessageTemplate_appMessageTemplate,networkingEmails_inAppMessageTemplate_globalMessageTemplate,networkingEmails_inAppMessageTemplate_appMessageTemplate,networkingEmails_successIntegrationMessageTemplate_globalMessageTemplate,networkingEmails_successIntegrationMessageTemplate_appMessageTemplate,networkingEmails_errorIntegrationMessageTemplate_globalMessageTemplate,networkingEmails_errorIntegrationMessageTemplate_appMessageTemplate,networkingEmails_loginMessageTemplate_globalMessageTemplate,networkingEmails_loginMessageTemplate_appMessageTemplate,networkingEmails_autoAcceptMeetingTemplate_globalMessageTemplate,networkingEmails_autoAcceptMeetingTemplate_appMessageTemplate,networkingEmails_emailMyEventMessageTemplate_globalMessageTemplate,networkingEmails_emailMyEventMessageTemplate_appMessageTemplate,networkingEmails_forgottenPasswordMessageTemplate_globalMessageTemplate,networkingEmails_forgottenPasswordMessageTemplate_appMessageTemplate,networkingEmails_exhibitorForgottenPasswordMessageTemplate_globalMessageTemplate,networkingEmails_exhibitorForgottenPasswordMessageTemplate_appMessageTemplate,networkingEmails_acceptMeetingTemplate_globalMessageTemplate,networkingEmails_acceptMeetingTemplate_appMessageTemplate,networkingEmails_arrangeMeetingTemplate_globalMessageTemplate,networkingEmails_arrangeMeetingTemplate_appMessageTemplate,networkingEmails_declineMeetingTemplate_globalMessageTemplate,networkingEmails_declineMeetingTemplate_appMessageTemplate,networkingEmails_changeMeetingTemplate_globalMessageTemplate,networkingEmails_changeMeetingTemplate_appMessageTemplate,networkingEmails_cancelMeetingTemplate_globalMessageTemplate,networkingEmails_cancelMeetingTemplate_appMessageTemplate,id,liveVersion,servingUrl,title,fullDescription,stagingVersion,_id,integration_passwordEncryptionType,integration_param1,integration_param10,integration_param2,integration_visitorLoginType,integration_param3,integration_param4,integration_integrationType,integration_param5,integration_param6,integration_param7,integration_param8,integration_param9,importBatch,name,features_networking_enabled,features_networking_purchasedLevel,features_salesPackage,features_exhibitors_enabled,features_exhibitors_purchasedLevel,features_sponsorship_sponsorCampaign,features_sponsorship_enabled,features_sponsorship_purchasedLevel,features_sponsorship_sponsor_portalBanner,features_sponsorship_sponsor_bannerUrl,features_sponsorship_sponsor_showBanner,features_sponsorship_sponsor_linkType,features_sponsorship_sponsor_portalBannerUrl,features_sponsorship_sponsor_infoPage,features_sponsorship_sponsor_exhibitor,features_sponsorship_sponsor_banner,features_multievent_enabled,features_multievent_purchasedLevel,features_qrreader_enabled,features_qrreader_purchasedLevel,features_mapping_enabled,features_mapping_purchasedLevel,features_platforms,features_registration_enabled,features_registration_purchasedLevel,features_speakers_enabled,features_speakers_purchasedLevel,features_downloads_enabled,features_downloads_purchasedLevel,features_infobooth_enabled,features_infobooth_purchasedLevel,features_gamification_enabled,features_gamification_purchasedLevel,features_feedback_enabled,features_feedback_purchasedLevel,features_poi_enabled,features_poi_purchasedLevel,features_favourites_enabled,features_favourites_purchasedLevel,features_newssocial_enabled,features_newssocial_purchasedLevel,features_schedule_enabled,features_schedule_purchasedLevel,features_messaging_enabled,features_messaging_purchasedLevel,features_notes_enabled,features_notes_purchasedLevel,features_products_enabled,features_products_purchasedLevel,features_myevent_enabled,features_myevent_purchasedLevel,features_appsecurity_enabled,features_appsecurity_purchasedLevel,features_appsecurity_allowRegistration,integrationXSLs,createdDate,incrementNotificationBadgeCounts,lastProcessedUUIDs,requiresInterestsRecompilation,appProcessStopDate,appProcessAnalytics,importCameFrom,isArchived,appProcessStartDate,modifiedDate,dashboardAllowed,lastProcessedVisitors,requiresActivityRecompilation,createdBy,lastProcessedActivities,isTemplate,shortName,lastProcessedInterests,visitorDataNamespace,importKey,_namespace,_dataversion,analytics_goalVisitorNotes,analytics_goalVisitorSchedule,analytics_goalVisitorNetworking,analytics_goalVisitorExhibitors,analytics_goalVisitorOverall,analytics_goalVisitorFavourites,analytics_goalVisitorAgenda) SELECT client,modifiedBy,iconUrl,locale,networkingEmails_autoCancelMeetingTemplate_globalMessageTemplate,networkingEmails_autoCancelMeetingTemplate_appMessageTemplate,networkingEmails_exhibitorLoginMessageTemplate_globalMessageTemplate,networkingEmails_exhibitorLoginMessageTemplate_appMessageTemplate,networkingEmails_inAppMessageTemplate_globalMessageTemplate,networkingEmails_inAppMessageTemplate_appMessageTemplate,networkingEmails_successIntegrationMessageTemplate_globalMessageTemplate,networkingEmails_successIntegrationMessageTemplate_appMessageTemplate,networkingEmails_errorIntegrationMessageTemplate_globalMessageTemplate,networkingEmails_errorIntegrationMessageTemplate_appMessageTemplate,networkingEmails_loginMessageTemplate_globalMessageTemplate,networkingEmails_loginMessageTemplate_appMessageTemplate,networkingEmails_autoAcceptMeetingTemplate_globalMessageTemplate,networkingEmails_autoAcceptMeetingTemplate_appMessageTemplate,networkingEmails_emailMyEventMessageTemplate_globalMessageTemplate,networkingEmails_emailMyEventMessageTemplate_appMessageTemplate,networkingEmails_forgottenPasswordMessageTemplate_globalMessageTemplate,networkingEmails_forgottenPasswordMessageTemplate_appMessageTemplate,networkingEmails_exhibitorForgottenPasswordMessageTemplate_globalMessageTemplate,networkingEmails_exhibitorForgottenPasswordMessageTemplate_appMessageTemplate,networkingEmails_acceptMeetingTemplate_globalMessageTemplate,networkingEmails_acceptMeetingTemplate_appMessageTemplate,networkingEmails_arrangeMeetingTemplate_globalMessageTemplate,networkingEmails_arrangeMeetingTemplate_appMessageTemplate,networkingEmails_declineMeetingTemplate_globalMessageTemplate,networkingEmails_declineMeetingTemplate_appMessageTemplate,networkingEmails_changeMeetingTemplate_globalMessageTemplate,networkingEmails_changeMeetingTemplate_appMessageTemplate,networkingEmails_cancelMeetingTemplate_globalMessageTemplate,networkingEmails_cancelMeetingTemplate_appMessageTemplate,id,liveVersion,servingUrl,title,fullDescription,stagingVersion,_id,integration_passwordEncryptionType,integration_param1,integration_param10,integration_param2,integration_visitorLoginType,integration_param3,integration_param4,integration_integrationType,integration_param5,integration_param6,integration_param7,integration_param8,integration_param9,importBatch,name,features_networking_enabled,features_networking_purchasedLevel,features_salesPackage,features_exhibitors_enabled,features_exhibitors_purchasedLevel,features_sponsorship_sponsorCampaign,features_sponsorship_enabled,features_sponsorship_purchasedLevel,features_sponsorship_sponsor_portalBanner,features_sponsorship_sponsor_bannerUrl,features_sponsorship_sponsor_showBanner,features_sponsorship_sponsor_linkType,features_sponsorship_sponsor_portalBannerUrl,features_sponsorship_sponsor_infoPage,features_sponsorship_sponsor_exhibitor,features_sponsorship_sponsor_banner,features_multievent_enabled,features_multievent_purchasedLevel,features_qrreader_enabled,features_qrreader_purchasedLevel,features_mapping_enabled,features_mapping_purchasedLevel,features_platforms,features_registration_enabled,features_registration_purchasedLevel,features_speakers_enabled,features_speakers_purchasedLevel,features_downloads_enabled,features_downloads_purchasedLevel,features_infobooth_enabled,features_infobooth_purchasedLevel,features_gamification_enabled,features_gamification_purchasedLevel,features_feedback_enabled,features_feedback_purchasedLevel,features_poi_enabled,features_poi_purchasedLevel,features_favourites_enabled,features_favourites_purchasedLevel,features_newssocial_enabled,features_newssocial_purchasedLevel,features_schedule_enabled,features_schedule_purchasedLevel,features_messaging_enabled,features_messaging_purchasedLevel,features_notes_enabled,features_notes_purchasedLevel,features_products_enabled,features_products_purchasedLevel,features_myevent_enabled,features_myevent_purchasedLevel,features_appsecurity_enabled,features_appsecurity_purchasedLevel,features_appsecurity_allowRegistration,integrationXSLs,createdDate,incrementNotificationBadgeCounts,lastProcessedUUIDs,requiresInterestsRecompilation,appProcessStopDate,appProcessAnalytics,importCameFrom,isArchived,appProcessStartDate,modifiedDate,dashboardAllowed,lastProcessedVisitors,requiresActivityRecompilation,createdBy,lastProcessedActivities,isTemplate,shortName,lastProcessedInterests,visitorDataNamespace,importKey,_namespace,_dataversion,NULL AS analytics_goalVisitorNotes,NULL AS analytics_goalVisitorSchedule,NULL AS analytics_goalVisitorNetworking,NULL AS analytics_goalVisitorExhibitors,NULL AS analytics_goalVisitorOverall,NULL AS analytics_goalVisitorFavourites,NULL AS analytics_goalVisitorAgenda FROM apps;

-- Droping the original table and renaming the temporary table

DROP TABLE apps;
ALTER TABLE temp_apps_1752227528 RENAME TO apps;

CREATE TABLE apps_relatedTags
(
    seqNo bigint NOT NULL,
    apps_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE articlegroups_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    articlegroups_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table articles from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_articles_726643700
(
    liveStatus INTEGER NULL,
    thumbImage bigint NULL,
    modifiedBy nvarchar(50) NULL,
    featured bit NULL,
    type INTEGER NULL,
    mainImage bigint NULL,
    scheduledDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    timestamp datetime NULL,
    author nvarchar(100) NULL,
    scheduledLiveStatus INTEGER NULL,
    _id nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(100) NULL,
    createdDate datetime NULL,
    scheduledTaskName nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    mainImageUrl nvarchar(500) NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    thumbImageUrl nvarchar(500) NULL,
    shareUrl nvarchar(500) NULL,
    html text NULL,
    brief nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_articles_726643700 (liveStatus,scheduledTaskName,thumbImage,modifiedBy,featured,importCameFrom,mainImageUrl,type,mainImage,modifiedDate,timestamp,id,scheduledDate,author,scheduledLiveStatus,_id,createdBy,thumbImageUrl,name,importBatch,shareUrl,html,createdDate,brief,importKey,_namespace,_dataversion) SELECT liveStatus,scheduledTaskName,thumbImage,modifiedBy,featured,importCameFrom,mainImageUrl,type,mainImage,modifiedDate,timestamp,id,scheduledDate,author,scheduledLiveStatus,_id,createdBy,thumbImageUrl,name,importBatch,shareUrl,html,createdDate,brief,importKey,_namespace,_dataversion FROM articles;

-- Droping the original table and renaming the temporary table

DROP TABLE articles;
ALTER TABLE temp_articles_726643700 RENAME TO articles;

CREATE TABLE articles_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    articles_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE categories_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    categories_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE countries_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    countries_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE dataversions_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    dataversions_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table downloadables from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_downloadables_1848543519
(
    modifiedBy nvarchar(50) NULL,
    downloadUrl nvarchar(500) NULL,
    md5Hash nvarchar(500) NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    name nvarchar(300) NULL,
    importBatch nvarchar(500) NULL,
    thumbnailUrl nvarchar(500) NULL,
    createdDate datetime NULL,
    mimeType nvarchar(500) NULL,
    fileType nvarchar(500) NULL,
    blobKey nvarchar(50) NULL,
    assosiatedDataFile bigint NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    size INTEGER NULL,
    thumbnail bigint NULL,
    createdBy nvarchar(50) NULL,
    fileName nvarchar(500) NULL,
    exhibitor bigint NULL,
    importKey nvarchar(500) NULL,
    permissionGroup bigint NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_downloadables_1848543519 (fileType,blobKey,assosiatedDataFile,modifiedBy,downloadUrl,importCameFrom,md5Hash,modifiedDate,size,id,thumbnail,fullDescription,_id,createdBy,thumbnailUrl,importBatch,name,fileName,createdDate,exhibitor,mimeType,permissionGroup,importKey,_namespace,isFavourite,hasNote,_dataversion) SELECT fileType,blobKey,assosiatedDataFile,modifiedBy,downloadUrl,importCameFrom,md5Hash,modifiedDate,size,id,thumbnail,fullDescription,_id,createdBy,thumbnailUrl,importBatch,name,fileName,createdDate,exhibitor,mimeType,permissionGroup,importKey,_namespace,isFavourite,hasNote,_dataversion FROM downloadables;

-- Droping the original table and renaming the temporary table

DROP TABLE downloadables;
ALTER TABLE temp_downloadables_1848543519 RENAME TO downloadables;

CREATE TABLE downloadables_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    downloadables_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE earlycaches_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    earlycaches_url nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table eventdays from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_eventdays_822959691
(
    modifiedBy nvarchar(50) NULL,
    timezoneOffset INTEGER NULL,
    importCameFrom nvarchar(500) NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    modifiedDate datetime NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_eventdays_822959691 (createdBy,_id,modifiedBy,name,importBatch,timezoneOffset,importCameFrom,runningTime_to,runningTime_from,createdDate,modifiedDate,importKey,_namespace,_dataversion) SELECT createdBy,_id,modifiedBy,name,importBatch,timezoneOffset,importCameFrom,runningTime_to,runningTime_from,createdDate,modifiedDate,importKey,_namespace,_dataversion FROM eventdays;

-- Droping the original table and renaming the temporary table

DROP TABLE eventdays;
ALTER TABLE temp_eventdays_822959691 RENAME TO eventdays;

CREATE TABLE eventdays_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    eventdays_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table exhibitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_exhibitors_1944859510
(
    seqNo INTEGER NULL,
    gamePersona_nickname nvarchar(30) NULL,
    newPassword nvarchar(500) NULL,
    modifiedBy nvarchar(50) NULL,
    locale nvarchar(10) NULL,
    loginEmailSent bit NULL,
    featured INTEGER NULL,
    password nvarchar(100) NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    activeGamePlayer bit NULL,
    userType INTEGER NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    username nvarchar(500) NULL,
    timezone nvarchar(500) NULL,
    fullDescription text NULL,
    briefDescription nvarchar(500) NULL,
    _id nvarchar(500) NULL,
    name nvarchar(100) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    lastAccessed datetime NULL,
    logo bigint NULL,
    totalPlayerPoints INTEGER NULL,
    logoUrl nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    enableGamification bit NULL,
    modifiedDate datetime NULL,
    category nvarchar(50) NULL,
    createdBy nvarchar(50) NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    shareUrl nvarchar(500) NULL,
    exhibitorType nvarchar(50) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_exhibitors_1944859510 (gamePersona_nickname,modifiedBy,newPassword,locale,loginEmailSent,featured,password,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,activeGamePlayer,userType,id,username,timezone,fullDescription,briefDescription,_id,name,importBatch,createdDate,lastAccessed,logo,totalPlayerPoints,logoUrl,importCameFrom,enableGamification,modifiedDate,category,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,exhibitorType,importKey,_namespace,isFavourite,hasNote,_dataversion,seqNo) SELECT gamePersona_nickname,modifiedBy,newPassword,locale,loginEmailSent,featured,password,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,activeGamePlayer,userType,id,username,timezone,fullDescription,briefDescription,_id,name,importBatch,createdDate,lastAccessed,logo,totalPlayerPoints,logoUrl,importCameFrom,enableGamification,modifiedDate,category,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,exhibitorType,importKey,_namespace,isFavourite,hasNote,_dataversion,NULL AS seqNo FROM exhibitors;

-- Droping the original table and renaming the temporary table

DROP TABLE exhibitors;
ALTER TABLE temp_exhibitors_1944859510 RENAME TO exhibitors;

-- Creating associated indexes from scratch

CREATE INDEX exhibitors_i1
ON exhibitors
(
    id
);

CREATE TABLE exhibitors_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    exhibitors_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table exhibitortypes from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_exhibitortypes_919275682
(
    icon bigint NULL,
    modifiedBy nvarchar(50) NULL,
    iconUrl nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    colour nvarchar(10) NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_exhibitortypes_919275682 (colour,icon,createdBy,_id,modifiedBy,iconUrl,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion) SELECT colour,icon,createdBy,_id,modifiedBy,iconUrl,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion FROM exhibitortypes;

-- Droping the original table and renaming the temporary table

DROP TABLE exhibitortypes;
ALTER TABLE temp_exhibitortypes_919275682 RENAME TO exhibitortypes;

CREATE TABLE exhibitortypes_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    exhibitortypes_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouritedownloadables from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouritedownloadables_2041175501
(
    groupName nvarchar(500) NULL,
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    downloadable bigint NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouritedownloadables_2041175501 (id,groupName,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,downloadable,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT id,groupName,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,downloadable,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouritedownloadables;

-- Droping the original table and renaming the temporary table

DROP TABLE favouritedownloadables;
ALTER TABLE temp_favouritedownloadables_2041175501 RENAME TO favouritedownloadables;

CREATE TABLE favouritedownloadables_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouritedownloadables_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouriteexhibitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouriteexhibitors_1015591673
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    exhibitor bigint NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouriteexhibitors_1015591673 (id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,exhibitor,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,exhibitor,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouriteexhibitors;

-- Droping the original table and renaming the temporary table

DROP TABLE favouriteexhibitors;
ALTER TABLE temp_favouriteexhibitors_1015591673 RENAME TO favouriteexhibitors;

-- Creating associated indexes from scratch

CREATE INDEX favouriteexhibitors_i7
ON favouriteexhibitors
(
    exhibitor
);

CREATE TABLE favouriteexhibitors_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouriteexhibitors_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouritepoi from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouritepoi_2137491492
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    poi bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouritepoi_2137491492 (poi,id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT poi,id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouritepoi;

-- Droping the original table and renaming the temporary table

DROP TABLE favouritepoi;
ALTER TABLE temp_favouritepoi_2137491492 RENAME TO favouritepoi;

CREATE TABLE favouritepoi_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouritepoi_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouriteproducts from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouriteproducts_1111907664
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    product bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouriteproducts_1111907664 (product,id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT product,id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouriteproducts;

-- Droping the original table and renaming the temporary table

DROP TABLE favouriteproducts;
ALTER TABLE temp_favouriteproducts_1111907664 RENAME TO favouriteproducts;

CREATE TABLE favouriteproducts_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouriteproducts_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouritespeakers from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouritespeakers_86323836
(
    speaker bigint NULL,
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouritespeakers_86323836 (id,createdBy,_id,speaker,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT id,createdBy,_id,speaker,modifiedBy,importBatch,importCameFrom,createdDate,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouritespeakers;

-- Droping the original table and renaming the temporary table

DROP TABLE favouritespeakers;
ALTER TABLE temp_favouritespeakers_86323836 RENAME TO favouritespeakers;

CREATE TABLE favouritespeakers_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouritespeakers_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table favouritevisitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_favouritevisitors_1208223655
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    relatedVisitor bigint NULL,
    modifiedDate datetime NULL,
    visitor bigint NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_favouritevisitors_1208223655 (id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,relatedVisitor,visitor,modifiedDate,importKey,_namespace,_dataversion) SELECT id,createdBy,_id,modifiedBy,importBatch,importCameFrom,createdDate,relatedVisitor,visitor,modifiedDate,importKey,_namespace,_dataversion FROM favouritevisitors;

-- Droping the original table and renaming the temporary table

DROP TABLE favouritevisitors;
ALTER TABLE temp_favouritevisitors_1208223655 RENAME TO favouritevisitors;

CREATE TABLE favouritevisitors_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    favouritevisitors_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table games from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_games_182639827
(
    primaryInfoPage bigint NULL,
    modifiedBy nvarchar(50) NULL,
    featured bit NULL,
    importCameFrom nvarchar(500) NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    scoreDisplayStyle INTEGER NULL,
    modifiedDate datetime NULL,
    maxGamePoints INTEGER NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    sponsorCampaign bigint NULL,
    isVisible bit NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) NULL,
    thumbUrl nvarchar(500) NULL,
    thumb bigint NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_games_182639827 (primaryInfoPage,modifiedBy,featured,importCameFrom,runningTime_to,runningTime_from,scoreDisplayStyle,modifiedDate,id,maxGamePoints,sponsorCampaign,isVisible,_id,createdBy,importBatch,name,thumbUrl,thumb,createdDate,importKey,_namespace,_dataversion) SELECT primaryInfoPage,modifiedBy,featured,importCameFrom,runningTime_to,runningTime_from,scoreDisplayStyle,modifiedDate,id,maxGamePoints,sponsorCampaign,isVisible,_id,createdBy,importBatch,name,thumbUrl,thumb,createdDate,importKey,_namespace,_dataversion FROM games;

-- Droping the original table and renaming the temporary table

DROP TABLE games;
ALTER TABLE temp_games_182639827 RENAME TO games;

CREATE TABLE games_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    games_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE hotspots
(
    mapPosition_colour nvarchar(500) NULL,
    mapPosition_vectors nvarchar(500) NULL,
    mapPosition_zIndex int NULL,
    mapPosition_vectorsFormat int NULL,
    mapPosition_textBoundingBox text NULL,
    mapPosition_labelColour nvarchar(500) NULL,
    mapPosition_rotation int NULL,
    mapPosition_map bigint NULL,
    mapPosition_label nvarchar(500) NULL,
    mapPosition_type int NULL,
    mapPosition_version int NULL,
    mapPosition_vectorsBig text NULL,
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(100) NULL,
    identifier nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE hotspots_actions
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    hotspots_id bigint NULL,
    actions bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE hotspots_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    hotspots_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE inappactions
(
    startDate datetime NULL,
    modifiedBy nvarchar(50) NULL,
    intentEntityKey nvarchar(500) NULL,
    endDate datetime NULL,
    importCameFrom nvarchar(500) NULL,
    repeat INTEGER NULL,
    intentUri nvarchar(500) NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    intentAction nvarchar(500) NULL,
    intentEntityKind nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(100) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE inappactions_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    inappactions_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE infopages_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    infopages_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table locations from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_locations_1304539646
(
    mapPosition_colour nvarchar(500) NULL,
    mapPosition_vectors nvarchar(500) NULL,
    mapPosition_zIndex int NULL,
    mapPosition_vectorsFormat int NULL,
    mapPosition_textBoundingBox text NULL,
    mapPosition_labelColour nvarchar(500) NULL,
    mapPosition_rotation int NULL,
    mapPosition_map bigint NULL,
    mapPosition_label nvarchar(500) NULL,
    mapPosition_type int NULL,
    mapPosition_version int NULL,
    mapPosition_vectorsBig text NULL,
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    locationType nvarchar(500) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_locations_1304539646 (mapPosition_colour,mapPosition_vectors,mapPosition_zIndex,mapPosition_vectorsFormat,mapPosition_textBoundingBox,mapPosition_labelColour,mapPosition_rotation,mapPosition_map,mapPosition_label,mapPosition_type,mapPosition_version,mapPosition_vectorsBig,createdBy,_id,modifiedBy,locationType,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion) SELECT mapPosition_colour,mapPosition_vectors,mapPosition_zIndex,mapPosition_vectorsFormat,mapPosition_textBoundingBox,mapPosition_labelColour,mapPosition_rotation,mapPosition_map,mapPosition_label,mapPosition_type,mapPosition_version,mapPosition_vectorsBig,createdBy,_id,modifiedBy,locationType,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion FROM locations;

-- Droping the original table and renaming the temporary table

DROP TABLE locations;
ALTER TABLE temp_locations_1304539646 RENAME TO locations;

-- Creating associated indexes from scratch

CREATE INDEX locations_i5
ON locations
(
    name
);

CREATE TABLE locations_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    locations_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE mapfacilities
(
    logo bigint NULL,
    location nvarchar(50) NULL,
    modifiedBy nvarchar(50) NULL,
    logoUrl nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(100) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE mapfacilities_downloadables
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    mapfacilities_id bigint NULL,
    downloadables bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE mapfacilities_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    mapfacilities_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE maps_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    maps_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE mapzones
(
    logo bigint NULL,
    location nvarchar(50) NULL,
    modifiedBy nvarchar(50) NULL,
    logoUrl nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(100) NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE mapzones_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    mapzones_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE meetinglocations_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    meetinglocations_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE meetings_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    meetings_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE messages_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    messages_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE notes_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    notes_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table permissiongroups from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_permissiongroups_278955818
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    anonymousPermissionSet_canFavourite bit NULL,
    anonymousPermissionSet_canOpen bit NULL,
    anonymousPermissionSet_canView bit NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(300) NULL,
    createdDate datetime NULL,
    permissionFailureMessage nvarchar(500) NULL,
    everyoneElsePermissionSet_canFavourite bit NULL,
    everyoneElsePermissionSet_canOpen bit NULL,
    everyoneElsePermissionSet_canView bit NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_permissiongroups_278955818 (modifiedBy,importCameFrom,modifiedDate,anonymousPermissionSet_canFavourite,anonymousPermissionSet_canOpen,anonymousPermissionSet_canView,id,_id,createdBy,importBatch,name,createdDate,permissionFailureMessage,everyoneElsePermissionSet_canFavourite,everyoneElsePermissionSet_canOpen,everyoneElsePermissionSet_canView,importKey,_namespace,_dataversion) SELECT modifiedBy,importCameFrom,modifiedDate,anonymousPermissionSet_canFavourite,anonymousPermissionSet_canOpen,anonymousPermissionSet_canView,id,_id,createdBy,importBatch,name,createdDate,permissionFailureMessage,everyoneElsePermissionSet_canFavourite,everyoneElsePermissionSet_canOpen,everyoneElsePermissionSet_canView,importKey,_namespace,_dataversion FROM permissiongroups;

-- Droping the original table and renaming the temporary table

DROP TABLE permissiongroups;
ALTER TABLE temp_permissiongroups_278955818 RENAME TO permissiongroups;

CREATE TABLE permissiongroups_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    permissiongroups_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE playergames_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    playergames_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE poi_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    poi_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE poicategories_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    poicategories_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE productcategories_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    productcategories_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE products_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    products_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE scheduleitems_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    scheduleitems_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE sessioncategories_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    sessioncategories_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE sessions_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    sessions_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table speakers from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_speakers_1400855637
(
    gamePersona_nickname nvarchar(30) NULL,
    department nvarchar(100) NULL,
    newPassword nvarchar(500) NULL,
    modifiedBy nvarchar(50) NULL,
    locale nvarchar(10) NULL,
    loginEmailSent bit NULL,
    mugShot bigint NULL,
    password nvarchar(100) NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    activeGamePlayer bit NULL,
    userType INTEGER NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    mugShotUrl nvarchar(500) NULL,
    title nvarchar(20) NULL,
    username nvarchar(500) NULL,
    timezone nvarchar(500) NULL,
    fullDescription text NULL,
    briefDescription nvarchar(500) NULL,
    _id nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    lastNames nvarchar(100) NULL,
    createdDate datetime NULL,
    jobTitle nvarchar(500) NULL,
    firstNames nvarchar(100) NULL,
    lastAccessed datetime NULL,
    totalPlayerPoints INTEGER NULL,
    importCameFrom nvarchar(500) NULL,
    enableGamification bit NULL,
    companyName nvarchar(100) NULL,
    visitor bigint NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    shareUrl nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_speakers_1400855637 (gamePersona_nickname,department,modifiedBy,newPassword,locale,loginEmailSent,mugShot,password,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,activeGamePlayer,userType,id,mugShotUrl,title,username,timezone,fullDescription,briefDescription,_id,importBatch,lastNames,createdDate,jobTitle,firstNames,lastAccessed,totalPlayerPoints,importCameFrom,enableGamification,companyName,visitor,modifiedDate,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,importKey,_namespace,isFavourite,hasNote,_dataversion) SELECT gamePersona_nickname,department,modifiedBy,newPassword,locale,loginEmailSent,mugShot,password,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,activeGamePlayer,userType,id,mugShotUrl,title,username,timezone,fullDescription,briefDescription,_id,importBatch,lastNames,createdDate,jobTitle,firstNames,lastAccessed,totalPlayerPoints,importCameFrom,enableGamification,companyName,visitor,modifiedDate,createdBy,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,shareUrl,importKey,_namespace,isFavourite,hasNote,_dataversion FROM speakers;

-- Droping the original table and renaming the temporary table

DROP TABLE speakers;
ALTER TABLE temp_speakers_1400855637 RENAME TO speakers;

CREATE TABLE speakers_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    speakers_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table subsessions from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_subsessions_375271809
(
    modifiedBy nvarchar(50) NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    eventDay nvarchar(50) NULL,
    fullDescription text NULL,
    _id nvarchar(500) NULL,
    briefDescription nvarchar(500) NULL,
    priority INTEGER NULL,
    name nvarchar(250) NULL,
    importBatch nvarchar(500) NULL,
    createdDate datetime NULL,
    addToAgendaMessage nvarchar(500) NULL,
    importCameFrom nvarchar(500) NULL,
    runningTime_to datetime NULL,
    runningTime_from datetime NULL,
    modifiedDate datetime NULL,
    createdBy nvarchar(50) NULL,
    session bigint NULL,
    shareUrl nvarchar(500) NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_subsessions_375271809 (addToAgendaMessage,modifiedBy,importCameFrom,runningTime_to,runningTime_from,modifiedDate,id,eventDay,fullDescription,briefDescription,_id,createdBy,session,priority,importBatch,name,shareUrl,createdDate,importKey,_namespace,isFavourite,hasNote,_dataversion) SELECT addToAgendaMessage,modifiedBy,importCameFrom,runningTime_to,runningTime_from,modifiedDate,id,eventDay,fullDescription,briefDescription,_id,createdBy,session,priority,importBatch,name,shareUrl,createdDate,importKey,_namespace,isFavourite,hasNote,_dataversion FROM subsessions;

-- Droping the original table and renaming the temporary table

DROP TABLE subsessions;
ALTER TABLE temp_subsessions_375271809 RENAME TO subsessions;

CREATE TABLE subsessions_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    subsessions_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE tags_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    tags_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE tagsv2
(
    modifiedBy nvarchar(50) NULL,
    noChildren INTEGER NULL,
    parent bigint NULL,
    importCameFrom nvarchar(500) NULL,
    label nvarchar(500) NULL,
    isArchived bit NULL,
    modifiedDate datetime NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    sponsorCampaign bigint NULL,
    isRootParent bit NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    path nvarchar(500) NULL,
    archivedDate datetime NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE tagsv2_children
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    tagsv2_id bigint NULL,
    children bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE tagsv2_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    tagsv2_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table tracks from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_tracks_1497171628
(
    modifiedBy nvarchar(50) NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    colour nvarchar(500) NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    priority INTEGER NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    createdDate datetime NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_tracks_1497171628 (colour,createdBy,_id,priority,modifiedBy,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion) SELECT colour,createdBy,_id,priority,modifiedBy,name,importBatch,importCameFrom,createdDate,modifiedDate,importKey,_namespace,_dataversion FROM tracks;

-- Droping the original table and renaming the temporary table

DROP TABLE tracks;
ALTER TABLE temp_tracks_1497171628 RENAME TO tracks;

CREATE TABLE tracks_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    tracks_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

CREATE TABLE trophies_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    trophies_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table visitorgroups from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_visitorgroups_471587800
(
    meetingCredits INTEGER NULL,
    meetingsTarget INTEGER NULL,
    addToAgendaDisabledMessage nvarchar(500) NULL,
    isAddToAgendaEnabled bit NULL,
    modifiedBy nvarchar(50) NULL,
    autoIsDeletableMeeting bit NULL,
    importCameFrom nvarchar(500) NULL,
    modifiedDate datetime NULL,
    _id nvarchar(500) NULL,
    createdBy nvarchar(50) NULL,
    importBatch nvarchar(500) NULL,
    name nvarchar(500) PRIMARY KEY ASC NOT NULL,
    autoAcceptMeeting bit NULL,
    createdDate datetime NULL,
    messageCredits INTEGER NULL,
    importKey nvarchar(500) NULL,
    _namespace nvarchar(100) NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_visitorgroups_471587800 (meetingCredits,meetingsTarget,addToAgendaDisabledMessage,modifiedBy,isAddToAgendaEnabled,autoIsDeletableMeeting,importCameFrom,modifiedDate,_id,createdBy,importBatch,name,autoAcceptMeeting,createdDate,messageCredits,importKey,_namespace,_dataversion) SELECT meetingCredits,meetingsTarget,addToAgendaDisabledMessage,modifiedBy,isAddToAgendaEnabled,autoIsDeletableMeeting,importCameFrom,modifiedDate,_id,createdBy,importBatch,name,autoAcceptMeeting,createdDate,messageCredits,importKey,_namespace,_dataversion FROM visitorgroups;

-- Droping the original table and renaming the temporary table

DROP TABLE visitorgroups;
ALTER TABLE temp_visitorgroups_471587800 RENAME TO visitorgroups;

CREATE TABLE visitorgroups_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    visitorgroups_name nvarchar(500) NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Creating table visitors from scratch (simple ALTER TABLE is not enough)

CREATE TABLE temp_visitors_1593487619
(
    meetingsTarget INTEGER NULL,
    gamePersona_nickname nvarchar(30) NULL,
    modifiedBy nvarchar(50) NULL,
    newPassword nvarchar(500) NULL,
    loginEmailSent bit NULL,
    activeGamePlayer bit NULL,
    password nvarchar(100) NULL,
    userType INTEGER NULL,
    timezone nvarchar(500) NULL,
    username nvarchar(500) NULL,
    mugShotUrl nvarchar(500) NULL,
    showEmail bit NULL,
    fullDescription text NULL,
    showTwitter bit NULL,
    messageDebits INTEGER NULL,
    lastNames nvarchar(100) NULL,
    createdDate datetime NULL,
    firstNames nvarchar(100) NULL,
    meetingDebits INTEGER NULL,
    privateKey nvarchar(500) NULL,
    totalPlayerPoints INTEGER NULL,
    showYouTubeUrl bit NULL,
    companyName nvarchar(100) NULL,
    showBriefDescription bit NULL,
    createdBy nvarchar(50) NULL,
    showBlogUrl bit NULL,
    actionTypesLastRanOn text NULL,
    showReasonForAttending bit NULL,
    showVisitorType bit NULL,
    showFullDescription bit NULL,
    messageCredits INTEGER NULL,
    importKey nvarchar(500) NULL,
    showJobTitle bit NULL,
    hasSetProfile bit NULL,
    meetingCredits INTEGER NULL,
    department nvarchar(100) NULL,
    locale nvarchar(10) NULL,
    reasonForAttending nvarchar(500) NULL,
    showInterests bit NULL,
    mugShot bigint NULL,
    contact_youtubeUrl nvarchar(255) NULL,
    contact_twitter nvarchar(255) NULL,
    contact_linkedIn nvarchar(255) NULL,
    contact_fax nvarchar(100) NULL,
    contact_telephone2 nvarchar(100) NULL,
    contact_email nvarchar(100) NULL,
    contact_facebook nvarchar(255) NULL,
    contact_www nvarchar(255) NULL,
    contact_telephone nvarchar(100) NULL,
    contact_blogUrl nvarchar(255) NULL,
    id INTEGER PRIMARY KEY ASC NOT NULL,
    showLinkedIn bit NULL,
    showDepartment bit NULL,
    showFax bit NULL,
    title nvarchar(20) NULL,
    showTelephone2 bit NULL,
    showName bit NULL,
    _id nvarchar(500) NULL,
    briefDescription nvarchar(500) NULL,
    importBatch nvarchar(500) NULL,
    showAddress bit NULL,
    showCompanyName bit NULL,
    lastAccessed datetime NULL,
    jobTitle nvarchar(500) NULL,
    showMugShot bit NULL,
    enableGamification bit NULL,
    importCameFrom nvarchar(500) NULL,
    showWww bit NULL,
    modifiedDate datetime NULL,
    showTelephone bit NULL,
    visitorGroup nvarchar(50) NULL,
    showFacebook bit NULL,
    address_county nvarchar(100) NULL,
    address_postCode nvarchar(45) NULL,
    address_address1 nvarchar(100) NULL,
    address_address2 nvarchar(100) NULL,
    address_town nvarchar(100) NULL,
    address_address3 nvarchar(100) NULL,
    address_country nvarchar(50) NULL,
    visitorType nvarchar(500) NULL,
    qrCodeGenerated bit NULL,
    showMe bit NULL,
    exhibitor bigint NULL,
    _namespace nvarchar(100) NULL,
    isFavourite BOOLEAN DEFAULT 0,
    hasNote BOOLEAN DEFAULT 0,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

-- Copying rows from original table to the new table

INSERT INTO temp_visitors_1593487619 (meetingsTarget,gamePersona_nickname,newPassword,modifiedBy,loginEmailSent,activeGamePlayer,password,userType,timezone,username,mugShotUrl,showEmail,fullDescription,showTwitter,messageDebits,lastNames,createdDate,firstNames,meetingDebits,privateKey,totalPlayerPoints,showYouTubeUrl,companyName,showBriefDescription,createdBy,showBlogUrl,actionTypesLastRanOn,showReasonForAttending,showVisitorType,showFullDescription,messageCredits,importKey,showJobTitle,hasSetProfile,meetingCredits,department,locale,reasonForAttending,showInterests,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,id,showLinkedIn,showDepartment,showFax,title,showTelephone2,showName,_id,briefDescription,importBatch,showAddress,showCompanyName,lastAccessed,jobTitle,showMugShot,enableGamification,importCameFrom,showWww,modifiedDate,showTelephone,visitorGroup,showFacebook,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,visitorType,showMe,exhibitor,_namespace,isFavourite,hasNote,_dataversion,qrCodeGenerated) SELECT meetingsTarget,gamePersona_nickname,newPassword,modifiedBy,loginEmailSent,activeGamePlayer,password,userType,timezone,username,mugShotUrl,showEmail,fullDescription,showTwitter,messageDebits,lastNames,createdDate,firstNames,meetingDebits,privateKey,totalPlayerPoints,showYouTubeUrl,companyName,showBriefDescription,createdBy,showBlogUrl,actionTypesLastRanOn,showReasonForAttending,showVisitorType,showFullDescription,messageCredits,importKey,showJobTitle,hasSetProfile,meetingCredits,department,locale,reasonForAttending,showInterests,mugShot,contact_youtubeUrl,contact_twitter,contact_linkedIn,contact_fax,contact_telephone2,contact_email,contact_facebook,contact_www,contact_telephone,contact_blogUrl,id,showLinkedIn,showDepartment,showFax,title,showTelephone2,showName,_id,briefDescription,importBatch,showAddress,showCompanyName,lastAccessed,jobTitle,showMugShot,enableGamification,importCameFrom,showWww,modifiedDate,showTelephone,visitorGroup,showFacebook,address_county,address_postCode,address_address1,address_address2,address_town,address_address3,address_country,visitorType,showMe,exhibitor,_namespace,isFavourite,hasNote,_dataversion,NULL AS qrCodeGenerated FROM visitors;

-- Droping the original table and renaming the temporary table

DROP TABLE visitors;
ALTER TABLE temp_visitors_1593487619 RENAME TO visitors;

CREATE TABLE visitors_relatedTags
(
    seqNo bigint NOT NULL,
    _namespace nvarchar(100),
    visitors_id bigint NULL,
    relatedTags bigint NULL,
    _dataversion NVARCHAR(100) DEFAULT (NULL)
);

COMMIT TRANSACTION;
